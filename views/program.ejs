<!DOCTYPE html>
<html>
  <head>
    <%- include('../views/components/head.ejs') %>
  </head>
  <body>
    <%- include('../views/components/nav.ejs',{auth:auth || {}}) %>
    <div class="container">
        <br><br>
        <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-8">
              <h4 class="card-title text-primary">Program Details</h4>
              <div class="row d-flex">
                <a class="btn btn-danger mx-2" href="/program/<%=data.id%>/edit" role="button">Edit</a>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Department</th>
                <th>Introduction</th>
                <th>Credit Requirements</th>
                <th>Leaders</th>
                <th>Courses</th>
                <th>Year Created</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><%= data.id %></td>
                <td><%= data.name %></td>
                <td><%= data.dept %></td>
                <td><%= data.intro %></td>
                <td>
                  <% data.credit.forEach(credit => { %>
                    <div><strong><%= credit.yearType %></strong>: <%= credit.credit %></div>
                  <% }) %>
                </td>
                <td>
                  <ul>
                    <% data.leaders.forEach(leader => { %>
                      <li><%= leader %></li>
                    <% }) %>
                  </ul>
                </td>
                <td>
                  <ul>
                    <% data.course.forEach(course => { %>
                      <li><a href="/course/<%= course %>"><%= course %></a></li>
                    <% }) %>
                  </ul>
                </td>
                <td><%= data.yearFrom %></td>
                <td><%= data.status %></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <%- include('../views/components/foot.ejs')%>
  </body>
</html>
